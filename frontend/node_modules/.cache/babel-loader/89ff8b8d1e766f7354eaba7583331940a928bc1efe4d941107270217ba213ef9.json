{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Search_results',\n  data: function () {\n    return {\n      searchInput: this.$route.query.q,\n      searchResults: []\n    };\n  },\n  methods: {\n    handleLogOut() {\n      localStorage.removeItem('token');\n      this.$router.push({\n        name: 'login'\n      });\n    }\n  },\n  beforeMount: function () {\n    fetch('http://localhost:5000/checkval', {\n      method: 'POST',\n      body: JSON.stringify({\n        auth_token: localStorage.getItem('token')\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset-UTF-8\"\n      }\n    }).then(response => response.json()).then(data => {\n      this.user_name = data[1];\n      this.user_id = data[0];\n      fetch(`http://localhost:5000/searchResults`, {\n        headers: {\n          'user_id': this.user_id,\n          'q': this.searchInput\n        }\n      }).then(response => response.json()).then(data => {\n        this.searchResults = data;\n      }).catch(error => console.log(error));\n    }).catch(error => {\n      console.log(error);\n      this.$router.push({\n        name: 'login'\n      });\n    });\n  }\n};","map":{"version":3,"mappings":";AA8CA;EACAA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACA;QAAAN;MAAA;IACA;EACA;EACAO;IACAC;MACAC;MACAC;QACAC;MACA;MACAC;QACA;MACA;IACA;MACA;MACA;MACAJ;QAAAI;UAAA;UAAA;QAAA;MAAA,GACAC;QACA;MACA,GACAC;IACA;MACAC;MACA;QAAAf;MAAA;IACA;EACA;AACA","names":["name","data","searchInput","searchResults","methods","handleLogOut","localStorage","beforeMount","fetch","method","body","auth_token","headers","then","catch","console"],"sourceRoot":"src/components","sources":["Search_results.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <b-navbar type=\"dark\" class=\"top-nav\">\r\n        <b-navbar-nav class=\"me-auto mx-5\">\r\n          <b-navbar-brand>Blog Lite</b-navbar-brand>\r\n          <b-nav-form class=\"mx-5\">\r\n            <div class=\"d-flex\">\r\n              <b-form-input class=\"mr-sm-2\" placeholder=\"Search\"></b-form-input>\r\n              <b-button class=\"mx-2 search\" type=\"submit\">Search</b-button>\r\n            </div>\r\n          </b-nav-form>\r\n        </b-navbar-nav>\r\n        <b-navbar-nav class=\"ms-auto mx-5\">\r\n          <b-nav-item>Home</b-nav-item>\r\n          <b-nav-item>Profile</b-nav-item>\r\n          <b-nav-item-dropdown text=\"User\">\r\n            <b-dropdown-item>Export as CSV</b-dropdown-item>\r\n            <b-dropdown-item @click=\"handleLogOut\">Log Out</b-dropdown-item>\r\n          </b-nav-item-dropdown>\r\n        </b-navbar-nav>\r\n      </b-navbar>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-4\"></div>\r\n      <div class=\"col-4\">\r\n        <div class=\"search-heading shadow-div\">\r\n          <h4>\r\n            Search results for {{ searchInput }} -\r\n          </h4>\r\n        </div>\r\n        <div class=\"followers-box shadow-div\">\r\n          <div class=\"follower-one d-flex\" v-for=\"eachResult in searchResults\" :key=\"eachResult.key\">\r\n            <img :src=\"('data:image/jpg;base64,' + eachResult.image)\">\r\n            <h6 id=\"sug-h6\"><router-link :to=\"'/profile/' + eachResult.user_id\">{{ eachResult.user_name }}</router-link>\r\n                </h6>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-4\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'Search_results',\r\n  data: function () {\r\n    return {\r\n      searchInput: this.$route.query.q,\r\n      searchResults: []\r\n    }\r\n  },\r\n  methods: {\r\n    handleLogOut() {\r\n      localStorage.removeItem('token')\r\n      this.$router.push({ name: 'login' })\r\n    },\r\n  },\r\n  beforeMount: function () {\r\n    fetch('http://localhost:5000/checkval', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        auth_token: localStorage.getItem('token')\r\n      }),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset-UTF-8\",\r\n      }\r\n    }).then(response => response.json()).then(data => {\r\n      this.user_name = data[1]\r\n      this.user_id = data[0]\r\n      fetch(`http://localhost:5000/searchResults`,  {headers: { 'user_id': this.user_id, 'q': this.searchInput } })\r\n      .then(response => response.json()).then(data => {\r\n        this.searchResults = data\r\n      })\r\n      .catch(error => console.log(error))\r\n    }).catch(error => {\r\n      console.log(error)\r\n      this.$router.push({ name: 'login' })\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.search-heading {\r\n   margin-top: 70px;\r\n   background-color: white;\r\n   height: 45px;\r\n }\r\n\r\n .search-heading h4 {\r\n   display: flex;\r\n   margin-left: 20px;\r\n   padding: 7px;\r\n   color: #000038\r\n }\r\n\r\n .search-item-one {\r\n   padding-top: 20px;\r\n }\r\n\r\n .search-item-one img {\r\n   height: 40px;\r\n   width: 40px;\r\n   border-radius: 50%;\r\n   margin-left: 20px;\r\n   margin-right: 10px;\r\n }\r\n\r\n .search-item-one h6 {\r\n   margin-top: 8px;\r\n }\r\n\r\n .search-box {\r\n   margin-top: 20px;\r\n   background-color: white;\r\n   min-height: 500px;\r\n }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}