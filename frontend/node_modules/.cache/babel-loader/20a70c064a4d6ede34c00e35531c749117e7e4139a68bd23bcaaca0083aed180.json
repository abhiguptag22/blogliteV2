{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Profile_by_id',\n  data: function () {\n    return {\n      city: \"\",\n      dob: null,\n      doj: null,\n      joined_on: null,\n      profession: \"\",\n      user_name: \"\",\n      user_id: null,\n      profileImage: null,\n      profile_user_name: \"\",\n      allPosts: null,\n      noPosts: 1,\n      follow_unfollow: \"\",\n      totalFollowers: \"\",\n      totalFollowing: \"\",\n      searchInput: \"\"\n    };\n  },\n  methods: {\n    handleHomeLink() {\n      this.$router.push({\n        name: 'home'\n      });\n    },\n    handleProfile() {\n      this.$router.push({\n        name: 'profile'\n      });\n    },\n    handleLogOut() {\n      localStorage.removeItem('token');\n      this.$router.push({\n        name: 'login'\n      });\n    },\n    followersPage() {\n      this.$router.push({\n        name: 'followers'\n      });\n    },\n    followingPage() {\n      this.$router.push({\n        name: 'following'\n      });\n    },\n    handleSearch() {\n      this.$router.push({\n        name: 'search',\n        query: {\n          q: this.searchInput\n        }\n      });\n    },\n    handleFollow(f_user_id) {\n      if (document.getElementById('follow-btn').value == \"follow\") {\n        fetch(`http://localhost:5000/follow/${f_user_id}`, {\n          method: 'POST',\n          headers: {\n            'user_id': this.user_id,\n            'x-access-token': localStorage.getItem('token')\n          }\n        }).then(response => response.json()).then(data => {\n          if (data) {\n            document.getElementById(\"follow-btn\").value = \"Following...\";\n          }\n        }).catch(error => console.log(error));\n        setTimeout(() => {\n          document.getElementById(\"follow-btn\").value = \"Unfollow\";\n        }, 1000);\n      } else {\n        fetch(`http://localhost:5000/unfollow/${f_user_id}`, {\n          method: 'POST',\n          headers: {\n            'user_id': this.user_id\n          }\n        }).then(response => response.json()).then(data => {\n          console.log(data);\n          document.getElementById('follow-btn').value = \"Unfollowing...\";\n        }).catch(error => console.log(error));\n        setTimeout(() => {\n          document.getElementById('follow-btn').value = \"Follow\";\n        }, 1000);\n      }\n    }\n  },\n  beforeMount: async function () {\n    const jRequest = await fetch(\"http://localhost:5000/checkval\", {\n      method: 'POST',\n      body: JSON.stringify({\n        auth_token: localStorage.getItem('token')\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset-UTF-8\"\n      }\n    });\n    const jResponse = await jRequest.json();\n    if (!jResponse) {\n      console.log(\"login not successful\");\n      this.$router.push({\n        name: 'login'\n      });\n    } else {\n      this.user_name = jResponse[1];\n      this.user_id = jResponse[0];\n      const pRequest = await fetch(`http://localhost:5000/getProfileDetails/${this.$route.params.id}`);\n      const pResponse = await pRequest.json();\n      console.log(pResponse);\n      if (pResponse) {\n        this.profile_user_name = pResponse.profile_user_name;\n        this.city = pResponse.city;\n        this.profession = pResponse.profession;\n        this.dob = pResponse.dob;\n        this.doj = pResponse.doj;\n        this.totalFollowers = pResponse.totalFollowers;\n        this.totalFollowing = pResponse.totalFollowing;\n      }\n    }\n    fetch(`http://localhost:5000/getUserPosts/${this.$route.params.id}`).then(response => response.json()).then(data => {\n      this.allPosts = data;\n      this.noPosts = data.length;\n    }).catch(error => console.log(error));\n    fetch(`http://localhost:5000/loadProfilePic/${this.user_id}`).then(response => response.json()).then(data => {\n      this.profileImage = data.image;\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(`http://localhost:5000/getFollowStatus/${this.$route.params.id}`, {\n      headers: {\n        'user_id': this.user_id\n      }\n    }).then(response => response.json()).then(data => {\n      if (data == 1) {\n        this.follow_unfollow = \"unfollow\";\n      } else {\n        this.follow_unfollow = \"follow\";\n      }\n    }).catch(error => console.log(error));\n  }\n};","map":{"version":3,"mappings":";AA+FA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IAEA;EACA;EACAC;IACAC;MACA;QAAAlB;MAAA;IACA;IACAmB;MACA;QAAAnB;MAAA;IACA;IACAoB;MACAC;MACA;QAAArB;MAAA;IACA;IACAsB;MACA;QAAAtB;MAAA;IACA;IACAuB;MACA;QAAAvB;MAAA;IACA;IACAwB;MACA;QAAAxB;QAAAyB;UAAAC;QAAA;MAAA;IACA;IACAC;MACA;QACAC;UACAC;UACAC;YACA;YACA;UACA;QACA;UACA;YACAC;UACA;QACA,GACAC;QACAC;UACAF;QACA;MACA,OACA;QACAH;UACAC;UACAC;YACA;UACA;QACA;UACAI;UACAH;QACA,GACAC;QACAC;UACAF;QACA;MACA;IAEA;EACA;EACAI;IACA;MACAN;MACAO;QACAC;MACA;MACAP;QACA;MACA;IACA;IACA;IACA;MACAI;MACA;QAAAlC;MAAA;IACA,OACA;MACA;MACA;MACA;MACA;MACAkC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IAEAN,qEACAU;MACA;MACA;IACA,GACAN;IAEAJ,8DACAU;MACA;IACA,GACAN;MACAE;IACA;IAEAN;MAAAE;QAAA;MAAA;IAAA,GACAQ;MACA;QACA;MACA,OACA;QACA;MACA;IACA,GACAN;EACA;AACA","names":["name","data","city","dob","doj","joined_on","profession","user_name","user_id","profileImage","profile_user_name","allPosts","noPosts","follow_unfollow","totalFollowers","totalFollowing","searchInput","methods","handleHomeLink","handleProfile","handleLogOut","localStorage","followersPage","followingPage","handleSearch","query","q","handleFollow","fetch","method","headers","document","catch","setTimeout","console","beforeMount","body","auth_token","then"],"sourceRoot":"src/components","sources":["Profile_by_id.vue"],"sourcesContent":["<template>\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <b-navbar type=\"dark\" class=\"top-nav\">\r\n                <b-navbar-nav class=\"me-auto mx-5\">\r\n                    <b-navbar-brand>Blog Lite</b-navbar-brand>\r\n                    <b-nav-form class=\"mx-5\">\r\n                        <div class=\"d-flex\">\r\n                            <b-form-input class=\"mr-sm-2\" placeholder=\"Search\" v-model=\"searchInput\"></b-form-input>\r\n                            <b-button class=\"mx-2 search\" type=\"submit\" @click=\"handleSearch\">Search</b-button>\r\n                        </div>\r\n                    </b-nav-form>\r\n                </b-navbar-nav>\r\n                <b-navbar-nav class=\"ms-auto mx-5\">\r\n                    <b-nav-item @click=\"handleHomeLink\">Home</b-nav-item>\r\n                    <b-nav-item @click=\"handleProfile\">Profile</b-nav-item>\r\n                    <b-nav-item-dropdown :text=\"user_name\">\r\n                        <b-dropdown-item>Export as csv</b-dropdown-item>\r\n                        <b-dropdown-item @click=\"handleLogOut\">Log out</b-dropdown-item>\r\n                    </b-nav-item-dropdown>\r\n                </b-navbar-nav>\r\n            </b-navbar>\r\n        </div>\r\n        <div class=\"row d-flex mt-3\">\r\n            <div class=\"col-2\"></div>\r\n            <div class=\"col-3\">\r\n                <div class=\"profile-box shadow-div\">\r\n                    <div class=\"profile-box-photo\">\r\n                        <img :src=\"('data:image/jpg;base64,' + profileImage)\">\r\n                    </div>\r\n                    <div>\r\n                        <h4 style=\"display: flex; justify-content:center; margin-top: 10px;\">{{ profile_user_name }}\r\n                        </h4>\r\n                    </div>\r\n                    <div style=\"display: flex; justify-content:center; margin-top: 10px;\">\r\n                        <input type=\"button\" :value=follow_unfollow id=\"follow-btn\"\r\n                            @click=\"handleFollow($route.params.id)\">\r\n                    </div>\r\n                    <hr>\r\n                    <div class=\"profile-data\">\r\n                        <p> <span>City</span>{{ city }}</p>\r\n                        <p><span>Date of Birth</span>{{ dob }}</p>\r\n                        <p><span>Profession</span>{{ profession }}</p>\r\n                        <p><span>Joined On</span>{{ doj }}</p>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class=\"follow-box shadow-div\">\r\n                    <div class=\"followers\">\r\n                        <p>Followers : {{ totalFollowers }}</p>\r\n                    </div>\r\n                    <div class=\"following\">\r\n                        <p>Following : {{ totalFollowing }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-5\">\r\n                <div class=\"myposts shadow-div\">\r\n                    <h4>{{ profile_user_name }}'s Posts</h4>\r\n                    <h6>No. of Posts : {{ noPosts }}</h6>\r\n                </div>\r\n                <div class=\"no-posts\" v-if=\"!noPosts\">There are no posts to show</div>\r\n                <div class=\"feed-item shadow-div\" v-for=\"eachPost in allPosts\" :key=\"eachPost.key\">\r\n                    <div class=\"feed-item-first d-flex\">\r\n                        <img :src=\"('data:image/jpg;base64,' + eachPost.profileImage)\" class=\"feed-prof-img\" alt=\"img\">\r\n                        <div class=\"name-time\">\r\n                            <h4><router-link :to=\"'/profile/' + eachPost.user_id\">{{ eachPost.user_name }}</router-link>\r\n                            </h4>\r\n                            <div class=\"d-flex\">\r\n                                <img class=\"icon\" src=\"../assets/workwise/img/Time_50px.png\">\r\n                                <p class=\"text-muted\" style=\"margin-top: -3px; margin-left: 5px;\">3 mins ago</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <p class=\"feed-caption\">{{ eachPost.caption }}</p>\r\n                    </div>\r\n                    <div class=\"feed-img\">\r\n                        <img :src=\"('data:image/jpg;base64,' + eachPost.image)\" alt=\"Image\">\r\n                    </div>\r\n                    <p class=\"feed-caption\">No. of Likes : {{ eachPost.likes }}</p>\r\n                    <div style=\"margin-left:20px; margin-right:20px;\">\r\n                        <hr>\r\n                    </div>\r\n                    <div class=\"feed-like ms-auto\">\r\n                        <img src=\"../assets/workwise/img/Love_52px.png\" alt=\"\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-2\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n    name: 'Profile_by_id',\r\n    data: function () {\r\n        return {\r\n            city: \"\",\r\n            dob: null,\r\n            doj: null,\r\n            joined_on: null,\r\n            profession: \"\",\r\n            user_name: \"\",\r\n            user_id: null,\r\n            profileImage: null,\r\n            profile_user_name: \"\",\r\n            allPosts: null,\r\n            noPosts: 1,\r\n            follow_unfollow: \"\",\r\n            totalFollowers: \"\",\r\n            totalFollowing: \"\",\r\n            searchInput: \"\",\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        handleHomeLink() {\r\n            this.$router.push({ name: 'home' })\r\n        },\r\n        handleProfile() {\r\n            this.$router.push({ name: 'profile' })\r\n        },\r\n        handleLogOut() {\r\n            localStorage.removeItem('token')\r\n            this.$router.push({ name: 'login' })\r\n        },\r\n        followersPage() {\r\n            this.$router.push({ name: 'followers' })\r\n        },\r\n        followingPage() {\r\n            this.$router.push({ name: 'following' })\r\n        },\r\n        handleSearch() {\r\n      this.$router.push({name:'search', query:{q:this.searchInput}})\r\n    },\r\n        handleFollow(f_user_id) {\r\n            if (document.getElementById('follow-btn').value == \"follow\") {\r\n                fetch(`http://localhost:5000/follow/${f_user_id}`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'user_id': this.user_id,\r\n                        'x-access-token':localStorage.getItem('token')\r\n                    }\r\n                }).then(response => response.json()).then(data => {\r\n                    if (data) {\r\n                        document.getElementById(\"follow-btn\").value = \"Following...\"\r\n                    }\r\n                })\r\n                    .catch(error => console.log(error))\r\n                setTimeout(() => {\r\n                    document.getElementById(\"follow-btn\").value = \"Unfollow\"\r\n                }, 1000);\r\n            }\r\n            else {\r\n                fetch(`http://localhost:5000/unfollow/${f_user_id}`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'user_id': this.user_id\r\n                    }\r\n                }).then(response => response.json()).then(data => {\r\n                    console.log(data)\r\n                    document.getElementById('follow-btn').value = \"Unfollowing...\"\r\n                })\r\n                    .catch(error => console.log(error))\r\n                setTimeout(() => {\r\n                    document.getElementById('follow-btn').value = \"Follow\"\r\n                }, 1000);\r\n            }\r\n\r\n        }\r\n    },\r\n    beforeMount: async function () {\r\n        const jRequest = await fetch(\"http://localhost:5000/checkval\", {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                auth_token: localStorage.getItem('token')\r\n            }),\r\n            headers: {\r\n                \"Content-type\": \"application/json; charset-UTF-8\",\r\n            }\r\n        })\r\n        const jResponse = await jRequest.json()\r\n        if (!jResponse) {\r\n            console.log(\"login not successful\")\r\n            this.$router.push({ name: 'login' })\r\n        }\r\n        else {\r\n            this.user_name = jResponse[1]\r\n            this.user_id = jResponse[0]\r\n            const pRequest = await fetch(`http://localhost:5000/getProfileDetails/${this.$route.params.id}`)\r\n            const pResponse = await pRequest.json()\r\n            console.log(pResponse)\r\n            if (pResponse) {\r\n                this.profile_user_name = pResponse.profile_user_name\r\n                this.city = pResponse.city\r\n                this.profession = pResponse.profession\r\n                this.dob = pResponse.dob\r\n                this.doj = pResponse.doj\r\n                this.totalFollowers = pResponse.totalFollowers\r\n                this.totalFollowing = pResponse.totalFollowing\r\n            }\r\n        }\r\n\r\n        fetch(`http://localhost:5000/getUserPosts/${this.$route.params.id}`)\r\n            .then(response => response.json()).then(data => {\r\n                this.allPosts = data\r\n                this.noPosts = data.length\r\n            })\r\n            .catch(error => console.log(error))\r\n\r\n        fetch(`http://localhost:5000/loadProfilePic/${this.user_id}`)\r\n            .then(response => response.json()).then(data => {\r\n                this.profileImage = data.image\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n\r\n        fetch(`http://localhost:5000/getFollowStatus/${this.$route.params.id}`, { headers: { 'user_id': this.user_id } })\r\n            .then(response => response.json()).then(data => {\r\n                if (data == 1) {\r\n                    this.follow_unfollow = \"unfollow\"\r\n                }\r\n                else {\r\n                    this.follow_unfollow = \"follow\"\r\n                }\r\n            })\r\n            .catch(error => console.log(error))\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.profile-box {\r\n    width: 315.8px;\r\n    min-height: 375px;\r\n    background-color: white;\r\n    text-align: left;\r\n    margin-left: 20px;\r\n    margin-right: 20px;\r\n    margin-top: 60px;\r\n    padding-bottom: 10px;\r\n    position: fixed;\r\n    color: #000038;\r\n}\r\n\r\n.profile-box-photo {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.profile-box-photo img {\r\n    height: 150px;\r\n    border-radius: 50%;\r\n    margin-top: 20px;\r\n    border: 2px solid black;\r\n    padding: 5px;\r\n}\r\n\r\n.edit-profile {\r\n    margin-right: 10px;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.edit-profile p {\r\n    font-size: small;\r\n    text-decoration: underline;\r\n}\r\n\r\n.profile-data {\r\n    margin-left: 30px;\r\n}\r\n\r\n.profile-data span {\r\n    display: inline-block;\r\n    width: 40%;\r\n    position: relative;\r\n    padding-right: 10px;\r\n}\r\n\r\n.profile-data span::after {\r\n    content: \":\";\r\n    position: absolute;\r\n    right: 10px;\r\n}\r\n\r\n.follow-box {\r\n    background-color: white;\r\n    width: 315.8px;\r\n    margin-top: 525px;\r\n    height: 100px;\r\n    text-align: left;\r\n    margin-left: 20px;\r\n    margin-right: 20px;\r\n    position: fixed;\r\n    color: #000038;\r\n}\r\n\r\n.followers {\r\n    height: 50px;\r\n    text-align: center;\r\n    border-bottom: 1px solid rgb(163, 149, 149);\r\n    padding: 12px;\r\n}\r\n\r\n.following {\r\n    height: 50px;\r\n    text-align: center;\r\n    padding: 12px;\r\n}\r\n\r\n.followers,\r\n.following p {\r\n    font-weight: 200;\r\n}\r\n\r\n.myposts {\r\n    background-color: white;\r\n    display: flex;\r\n    height: 50px;\r\n    width: 654px;\r\n    margin-top: 60px;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n}\r\n\r\n.myposts h4 {\r\n    text-align: left;\r\n    margin-left: 20px;\r\n    width: 50%;\r\n}\r\n\r\n.myposts h6 {\r\n    text-align: right;\r\n    margin-right: 20px;\r\n    width: 50%;\r\n}\r\n\r\n.no-posts {\r\n    margin-top: 50px;\r\n    font-size: 1.5rem;\r\n    color: gray;\r\n}\r\n\r\n.three-dot {\r\n    margin-inline-start: auto;\r\n    margin-top: 20px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.three-dot img {\r\n    height: 35px;\r\n    width: auto;\r\n}\r\n\r\n#file {\r\n    display: none;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}