{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'Following_page',\n  data: function () {\n    return {\n      user_id: null,\n      user_name: '',\n      allFollowing: null,\n      searchInput: \"\"\n    };\n  },\n  methods: {\n    handleHomeLink() {\n      this.$router.push({\n        name: 'home'\n      });\n    },\n    handleProfileLink() {\n      this.$router.push({\n        name: 'profile'\n      });\n    },\n    handleUnfollow(f_user_id, index) {\n      fetch(`http://localhost:5000/unfollow/${f_user_id}`, {\n        method: 'POST',\n        headers: {\n          'user_id': this.user_id,\n          'x-access-token': localStorage.getItem('token')\n        }\n      }).then(response => response.json()).then(data => console.log(data)).catch(error => console.log(error));\n      this.allFollowing[index].follow_unfollow = \"Unfollowed\";\n      setTimeout(() => {\n        this.allFollowing[index].hidden = false;\n      }, 3000);\n    },\n    handleLogOut() {\n      localStorage.removeItem('token');\n      this.$router.push({\n        name: 'login'\n      });\n    },\n    handleSearch() {\n      this.$router.push({\n        name: 'search',\n        query: {\n          q: this.searchInput\n        }\n      });\n    }\n  },\n  beforeMount: function () {\n    fetch('http://localhost:5000/checkval', {\n      method: 'POST',\n      body: JSON.stringify({\n        auth_token: localStorage.getItem('token')\n      }),\n      headers: {\n        \"Content-type\": \"application/json; charset-UTF-8\"\n      }\n    }).then(response => response.json()).then(data => {\n      this.user_name = data[1];\n      this.user_id = data[0];\n      fetch('http://localhost:5000/getFollowingList', {\n        headers: {\n          'user_id': this.user_id,\n          'x-access-token': localStorage.getItem('token')\n        }\n      }).then(response => response.json()).then(data => {\n        for (let i = 0; i < data.length; i++) {\n          data[i].hidden = true;\n          data[i].follow_unfollow = 'Unfollow';\n        }\n        this.allFollowing = data;\n        console.log(data);\n      }).catch(error => console.log(error));\n    }).catch(error => {\n      console.log(error);\n      this.$router.push({\n        name: 'login'\n      });\n    });\n  }\n};","map":{"version":3,"mappings":";AAiDA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;QAAAP;MAAA;IACA;IACAQ;MACA;QAAAR;MAAA;IACA;IACAS;MACAC;QACAC;QACAC;UACA;UACA;QACA;MACA,qEACAC;MACA;MACAC;QACA;MACA;IACA;IACAC;MACAC;MACA;QAAAhB;MAAA;IACA;IACAiB;MACA;QAAAjB;QAAAkB;UAAAC;QAAA;MAAA;IACA;EACA;EACAC;IACAV;MACAC;MACAU;QACAC;MACA;MACAV;QACA;MACA;IACA;MACA;MACA;MACAF;QAAAE;UAAA;UAAA;QAAA;MAAA,GACAW;QACA;UACAtB;UACAA;QACA;QACA;QACAuB;MACA;IACA;MACAA;MACA;QAAAxB;MAAA;IACA;EACA;AACA","names":["name","data","user_id","user_name","allFollowing","searchInput","methods","handleHomeLink","handleProfileLink","handleUnfollow","fetch","method","headers","catch","setTimeout","handleLogOut","localStorage","handleSearch","query","q","beforeMount","body","auth_token","then","console"],"sourceRoot":"src/components","sources":["Following_page.vue"],"sourcesContent":["<template>\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <b-navbar type=\"dark\" class=\"top-nav\">\r\n      <b-navbar-nav class=\"me-auto mx-5\">\r\n        <b-navbar-brand>Blog Lite</b-navbar-brand>\r\n        <b-nav-form class=\"mx-5\">\r\n          <div class=\"d-flex\">\r\n          <b-form-input class=\"mr-sm-2\" placeholder=\"Search\" v-model=\"searchInput\"></b-form-input>\r\n          <b-button class=\"mx-2 search\" type=\"submit\" @click=\"handleSearch\">Search</b-button>\r\n        </div>\r\n        </b-nav-form>\r\n      </b-navbar-nav>\r\n      <b-navbar-nav class=\"ms-auto mx-5\">\r\n        <b-nav-item @click=\"handleHomeLink\">Home</b-nav-item>\r\n        <b-nav-item @click=\"handleProfileLink\">Profile</b-nav-item>\r\n        <b-nav-item-dropdown :text=\"user_name\">\r\n          <b-dropdown-item>Export as csv</b-dropdown-item>\r\n          <b-dropdown-item @click=\"handleLogOut\">Log out</b-dropdown-item>\r\n        </b-nav-item-dropdown>\r\n      </b-navbar-nav>\r\n    </b-navbar>\r\n        </div>\r\n        <div class=\"row\">\r\n            <div class=\"col-4\"></div>\r\n            <div class=\"col-4\">\r\n                <div class=\"following-heading shadow-div\">\r\n                    <h4>\r\n                        People you are following\r\n                    </h4>\r\n                </div>\r\n                <div class=\"following-box shadow-div\">\r\n                    <div v-for=\"(following, index) in allFollowing\" :key=\"index\">\r\n                      <div class=\"following-one d-flex\" v-if=\"following.hidden\">\r\n            <img :src=\"('data:image/jpg;base64,' + following.image)\">\r\n            <h6 id=\"sug-h6\"><router-link :to=\"'/profile/' + following.user_id\">{{ following.user_name }}</router-link></h6>\r\n            <div class=\"follow ms-auto mx-3\">\r\n              <input type=\"button\" :value=\"following.follow_unfollow\" id=\"follow-btn\" @click=\"handleUnfollow(following.user_id, index)\">\r\n            </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-4\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name : 'Following_page',\r\n    data : function() {\r\n      return {\r\n        user_id: null,\r\n        user_name:'',\r\n        allFollowing: null,\r\n        searchInput: \"\",\r\n      }\r\n    },\r\n    methods : {\r\n      handleHomeLink() {\r\n            this.$router.push({ name: 'home' })\r\n        },\r\n      handleProfileLink() {\r\n            this.$router.push({ name: 'profile' })\r\n        },\r\n      handleUnfollow(f_user_id, index) {\r\n        fetch(`http://localhost:5000/unfollow/${f_user_id}`, {\r\n          method : 'POST',\r\n          headers: {\r\n            'user_id': this.user_id,\r\n            'x-access-token':localStorage.getItem('token')\r\n          }\r\n        }).then(response => response.json()).then(data => console.log(data))\r\n          .catch(error => console.log(error))\r\n        this.allFollowing[index].follow_unfollow = \"Unfollowed\"\r\n        setTimeout(() => {\r\n          this.allFollowing[index].hidden = false\r\n        }, 3000);\r\n      },\r\n      handleLogOut() {\r\n        localStorage.removeItem('token')\r\n        this.$router.push({name:'login'})\r\n      },\r\n      handleSearch() {\r\n      this.$router.push({name:'search', query:{q:this.searchInput}})\r\n    },\r\n    },\r\n    beforeMount: function() {\r\n      fetch('http://localhost:5000/checkval', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                auth_token: localStorage.getItem('token')\r\n            }),\r\n            headers: {\r\n                \"Content-type\": \"application/json; charset-UTF-8\",\r\n            }\r\n        }).then(response => response.json()).then(data => {\r\n          this.user_name = data[1]\r\n          this.user_id = data[0]\r\n          fetch('http://localhost:5000/getFollowingList', { headers: { 'user_id': this.user_id, 'x-access-token':localStorage.getItem('token') } })\r\n            .then(response => response.json()).then(data => {\r\n              for (let i=0; i<data.length; i++) {\r\n                data[i].hidden = true\r\n                data[i].follow_unfollow = 'Unfollow'\r\n                }\r\n              this.allFollowing = data\r\n              console.log(data)\r\n            }).catch(error=>console.log(error))\r\n        }).catch(error => {\r\n          console.log(error)\r\n          this.$router.push({name:'login'})\r\n        })\r\n    }\r\n}\r\n</script>\r\n<style> \r\n.following-heading {\r\n    margin-top: 75px;\r\n    background-color: white;\r\n    height: 45px;\r\n}\r\n.following-heading h4 {\r\n    display: flex;\r\n    margin-left: 20px;\r\n    padding: 7px;\r\n    color : #000038\r\n}\r\n.following-one {\r\n  padding-top: 20px;\r\n}\r\n.following-one img {\r\n  height: 40px;\r\n  width: 40px;\r\n  border-radius: 50%;\r\n  margin-left: 20px;\r\n  margin-right: 10px;\r\n}\r\n.following-one h6 {\r\n  margin-top: 8px;\r\n}\r\n.following-one h6 a {\r\n  color: #000038;\r\n  text-decoration: none;\r\n}\r\n\r\n.following-one h6:hover {\r\n  text-decoration: underline;\r\n}\r\n.following-box {\r\n    margin-top: 20px;\r\n    background-color: white;\r\n    min-height: 500px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}